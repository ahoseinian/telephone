<div class="card" ng-class="{'card-info': vm.purchase._id}">
	<h4 class="card-header">
		{{vm.purchase._id ? "ویرایش سفارش شماره ": vm.route}} {{vm.purchase.code}}
	</h4>
	<form class="purchase-form" ng-submit="vm.processForm()" novalidate name="form">
		<div class="row">
			<div class="col-md-3">
				<img class="m-r-1 m-t-1" ng-src="/images/products/{{vm.purchase._product._id}}.jpg" ng-show="vm.purchase._product">
			</div>
			<div  class="col-md-9 card-block" >
				<input type="hidden" ng-model="vm.purchase._product._id" ng-required="vm.newRoute">
				<fieldset class="form-group col-md-4">
					<input class="form-control" type="text" ng-change="vm.getProduct()" ng-model="vm.productCode" placeholder="product code">
				</fieldset>
				<fieldset class="form-group  col-md-4">
					<select class="form-control" ng-model="vm.purchase._customer._id" 
						ng-options="ctm._id as ctm.name for ctm in vm.customers" ng-required="vm.newRoute">
						<option value="">نام مشتری</option>
					</select>
				</fieldset>

				<fieldset class="form-group col-md-4" ng-repeat="info in vm.model.infos.purchase.texts">
					<input class="form-control" type="text" ng-model="vm.purchase[info.name]" placeholder="{{info.name}}">
				</fieldset>

				<fieldset class="form-group col-md-4" ng-repeat="info in vm.model.infos.purchase.selects">
					<select class="form-control" 
					ng-model="vm.purchase[info.name]" 
					ng-options="option.name as option.name for option in info.options" placeholder="{{info.name}}" >
						<option value="">{{info.name}}</option>
					</select>
				</fieldset>
			</div>

		</div>

		<div class="card-footer">
			<button type="submit" class="btn btn-primary" ng-disabled="form.$invalid">
				<span ng-hide="vm.purchase._id">{{vm.route}}</span>
				<span ng-show="vm.purchase._id">ویرایش</span>
			</button>
		</div>
	</form>	
</div>